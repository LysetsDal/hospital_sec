syntax = "proto3";
package hospital;
option go_package = "github.com/LysetsDal/hospital_sec/proto";

service Hospital {
    rpc SendToHospital(HospitalMessage) returns (HospitalMessage) {}
    rpc SendListToHospital(HospitalList) returns (HospitalList) {}
}

service Client {
    rpc SendToPeer(ClientMessage) returns (ClientMessage) {}
}

message HospitalMessage {
    string type = 1;
    string ip_sender = 2;
    optional string ip_target = 3;
    string payload = 4;
    optional int32 value = 5;
}

message ClientMessage {
    string type = 1;
    string ip_sender = 2;
    optional string ip_target = 3;
    string payload = 4;
    optional int32 value = 5;
}

message HospitalList {
    string type = 1;
    string ip_sender = 2;
    optional string ip_target = 3;
    repeated string s_list = 4;
    repeated int32 i_list = 5;
}

message Test {
    string test = 1;
    bool works = 2;
}
